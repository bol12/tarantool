test_run = require('test_run').new()
---
...
engine = test_run:get_cfg('engine')
---
...
box.sql.execute('pragma sql_default_engine=\''..engine..'\'')
---
- rowcount: 0
...
-- box.cfg()
-- create space
box.sql.execute("CREATE TABLE t1(a integer primary key, b INT UNIQUE, e INT);");
---
- rowcount: 1
...
-- Debug
-- box.sql.execute("PRAGMA vdbe_debug=ON ; INSERT INTO zoobar VALUES (111, 222, 'c3', 444)")
-- Seed entries
box.sql.execute("INSERT INTO t1 VALUES(1,4,6);");
---
- rowcount: 1
...
box.sql.execute("INSERT INTO t1 VALUES(2,5,7);");
---
- rowcount: 1
...
-- Both entries must be updated
box.sql.execute("UPDATE t1 SET e=e+1 WHERE b IN (SELECT b FROM t1);");
---
- rowcount: 2
...
-- Check
box.sql.execute("SELECT e FROM t1");
---
- metadata:
  - name: E
    type: INTEGER
  rows:
  - [7]
  - [8]
...
-- Cleanup
box.sql.execute("DROP TABLE t1;");
---
- rowcount: 1
...
-- Debug
-- require("console").start()
