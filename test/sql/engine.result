env = require('test_run')
---
...
test_run = env.new()
---
...
box.sql.execute("pragma sql_default_engine='vinyl'")
---
- rowcount: 0
...
box.sql.execute("CREATE TABLE t1_vinyl(a INT PRIMARY KEY, b INT, c INT);")
---
- rowcount: 1
...
box.sql.execute("CREATE TABLE t2_vinyl(a INT PRIMARY KEY, b INT, c INT);")
---
- rowcount: 1
...
box.sql.execute("pragma sql_default_engine='memtx'")
---
- rowcount: 0
...
box.sql.execute("CREATE TABLE t3_memtx(a INT PRIMARY KEY, b INT, c INT);")
---
- rowcount: 1
...
assert(box.space.T1_VINYL.engine == 'vinyl')
---
- true
...
assert(box.space.T2_VINYL.engine == 'vinyl')
---
- true
...
assert(box.space.T3_MEMTX.engine == 'memtx')
---
- true
...
box.sql.execute("DROP TABLE t1_vinyl;")
---
- rowcount: 1
...
box.sql.execute("DROP TABLE t2_vinyl;")
---
- rowcount: 1
...
box.sql.execute("DROP TABLE t3_memtx;")
---
- rowcount: 1
...
